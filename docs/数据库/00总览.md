## 数据结构可视化

https://www.cs.usfca.edu/~galles/visualization/Algorithms.html

## B树和B+树

影响IO效率的因素

+ 读写数据越大，速度越慢
+ 读写次数越多，速度越慢



设计文件系统索引

1. 下标做索引，线性查找，O(n)，很慢
2. 哈希表，哈希冲突，会退化到O(n)，并且仅支持等值查询，范围查询又只能遍历
3. 树表做索引，无序，也是要遍历
4. 二叉排序树，左子树都是比节点小的值，右子树都是比节点大的值。有序，log(n)；但是如果插入时，从小到大插入，就变成，一条链表，退化到 O(n)
5. 平衡二叉树，通过左旋右旋，保持左子树和右子树高度差不大于1；用插入的成本来弥补查询的效率，适用于插入少查询多的情况，一旦插入比查询多，AVL就很耗时。
6. 红黑树，既然平衡二叉树的时间耗费在，插入时的旋转，那么就减少旋转的次数；最长子树不超过最短子树的2倍即可。由于上述的树都是二叉树，但树的深度变深，查找次数就会变多，查询效率降低。
7. 上述问题解决方案，使用多叉树，B树就是一个有序的多路查询树



B树

1. 树中每个结点至多有m个孩子结点(即至多有m-1个关键字
2. 除根节点外，其他结点至少有m/2个孩子结点
3. 若根节点不是叶子结点，则根结点至少有两个孩子结点
4. 所有叶子结点都在同一层上，即B树是所有结点的平衡因子均等于0的多路查找树



b树每个节点存在一个磁盘块，datapage 页，页的大小是 4k 的整数倍。实际大小 1kb，占用的磁盘空间就是4kb，5kb就是占8kb





### MySQL

约束：默认值，非空，唯一约束，主键约束，外键约束



































